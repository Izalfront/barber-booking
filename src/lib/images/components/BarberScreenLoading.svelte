<script>
	import { blur } from 'svelte/transition';

	let { loading } = $props();
</script>

{#if loading}
	<div
		style="position: fixed;inset: 0;background-color: #fff;display: flex;align-items: center;justify-content: center;z-index: 9999;column-gap: 8px;"
		out:blur={{ duration: 700, delay: 100 }}
	>
		<img
			class="animate-loading"
			src="/favicon.png"
			alt="Loading..."
			style="width: 32px; height: auto"
		/>
		<svg
			class="animate-loading"
			style="height: 24px; width: auto;color: #444"
			viewBox="0 0 72 33"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				d="M8.96023 25.6605C7.25706 25.6605 5.72857 25.2565 4.37477 24.4486C3.0428 23.6188 1.98378 22.5052 1.1977 21.1077C0.433453 19.7103 0.0513306 18.1381 0.0513306 16.3913C0.0513306 14.6444 0.433453 13.0723 1.1977 11.6748C1.98378 10.2773 3.0428 9.17461 4.37477 8.3667C5.72857 7.55878 7.24614 7.15482 8.92748 7.15482C10.1503 7.15482 11.253 7.37318 12.2356 7.80989C13.2182 8.22476 14.0479 8.82524 14.7248 9.61132V0.473145H18.3932V25.2674H14.8886V23.0074C14.2335 23.859 13.3819 24.5141 12.3338 24.9726C11.3076 25.4312 10.183 25.6605 8.96023 25.6605ZM9.32052 22.2214C10.3468 22.2214 11.2639 21.9702 12.0718 21.468C12.8797 20.9658 13.5239 20.278 14.0042 19.4046C14.4846 18.5311 14.7248 17.5267 14.7248 16.3913C14.7248 15.2776 14.4846 14.2841 14.0042 13.4107C13.5239 12.5373 12.8797 11.8495 12.0718 11.3472C11.2639 10.845 10.3468 10.5939 9.32052 10.5939C8.27242 10.5939 7.33349 10.845 6.50374 11.3472C5.69582 11.8495 5.06259 12.5373 4.60404 13.4107C4.1455 14.2841 3.91622 15.2776 3.91622 16.3913C3.91622 17.5267 4.1455 18.5311 4.60404 19.4046C5.06259 20.278 5.69582 20.9658 6.50374 21.468C7.33349 21.9702 8.27242 22.2214 9.32052 22.2214Z"
				fill="currentColor"
			></path>
			<path
				d="M21.7315 5.12412V0.866183H25.4326V5.12412H21.7315ZM21.7315 25.2674V7.54786H25.4326V25.2674H21.7315Z"
				fill="currentColor"
			></path>
			<path
				d="M37.3259 32.4731C35.3825 32.4731 33.6794 32.0146 32.2164 31.0975C30.7534 30.2022 29.738 29.0231 29.1703 27.5601L32.5767 26.1517C32.8824 26.9815 33.4392 27.6693 34.2471 28.2152C35.0768 28.7611 36.0922 29.034 37.2931 29.034C38.6906 29.034 39.8588 28.6301 40.7977 27.8222C41.7585 27.0361 42.2389 25.9116 42.2389 24.4486V22.2541C41.5838 23.0402 40.7759 23.6407 39.8151 24.0555C38.8762 24.4704 37.839 24.6779 36.7036 24.6779C35.0441 24.6779 33.5593 24.2957 32.2491 23.5315C30.9608 22.7672 29.9346 21.7191 29.1703 20.3872C28.4279 19.0552 28.0567 17.5595 28.0567 15.9C28.0567 14.2405 28.4279 12.7556 29.1703 11.4455C29.9127 10.1135 30.9281 9.06543 32.2164 8.30119C33.5265 7.53694 35.0113 7.15482 36.6708 7.15482C37.8499 7.15482 38.9199 7.3841 39.8807 7.84264C40.8633 8.30119 41.7039 8.95625 42.4027 9.80784V7.54786H45.9073V24.4486C45.9073 25.9989 45.5361 27.3745 44.7937 28.5755C44.0731 29.7983 43.0577 30.7481 41.7476 31.425C40.4593 32.1238 38.9854 32.4731 37.3259 32.4731ZM37.1294 21.2388C38.0901 21.2388 38.9526 21.0095 39.7169 20.5509C40.503 20.0706 41.1144 19.4373 41.5511 18.6512C42.0096 17.8433 42.2389 16.9371 42.2389 15.9327C42.2389 14.9283 42.0096 14.0221 41.5511 13.2142C41.0925 12.4063 40.4811 11.773 39.7169 11.3145C38.9526 10.8341 38.0901 10.5939 37.1294 10.5939C36.1249 10.5939 35.2297 10.8341 34.4436 11.3145C33.6575 11.773 33.0352 12.4063 32.5767 13.2142C32.1399 14.0221 31.9216 14.9283 31.9216 15.9327C31.9216 16.9371 32.1399 17.8433 32.5767 18.6512C33.0352 19.4373 33.6575 20.0706 34.4436 20.5509C35.2297 21.0095 36.1249 21.2388 37.1294 21.2388Z"
				fill="currentColor"
			></path>
			<path
				d="M55.3819 25.2674L48.4382 7.54786H52.4669L57.0523 20.0269L61.6706 7.54786H65.732L58.7555 25.2674H55.3819Z"
				fill="currentColor"
			></path>
			<path
				d="M68.2476 5.12412V0.866183H71.9487V5.12412H68.2476ZM68.2476 25.2674V7.54786H71.9487V25.2674H68.2476Z"
				fill="currentColor"
			></path>
		</svg>
	</div>
{/if}

<style>
	.animate-loading {
		animation: loading 1.5s linear infinite;
	}
	@keyframes loading {
		0% {
			opacity: 0.15;
		}
		50% {
			opacity: 1;
		}
		100% {
			opacity: 0.15;
		}
	}
</style>
